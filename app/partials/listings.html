<div ui-view="nav"></div>


<div class="content">
<div class="row">
  <form class="form-inline">
  <div class="menu-front">
<!--     <button type="button" ui-sref="frontadd" class="btn btn-primary">Add New Listing</button> -->
<!--   <button ng-click="ctrl.logout()" class="btn btn-primary">Log Out</button> -->
    <div class="form-group">
      <div class="">
<!--         <label for="search">Search</label> -->
        <input ng-model="ctrl.search.$" type="text" class="form-control" id="search" placeholder="Search">
      </div>
    </div>
    <div class="form-group">
      <label for="country">Country</label>
      <select ng-options="option.value as option.label for option in ctrl.countries" class="form-control" ng-model="ctrl.country" name="country">
      </select>
    </div>
    <div class="form-group">
      <label for="city">City</label>
      <select ng-options="option.value as option.label for option in ctrl.cities|filter:{country:ctrl.country}" class="form-control" ng-model="ctrl.city" name="city">
      </select>
      </select>
    </div>
    <div class="form-group">
      <label for="category">Category</label>
      <select ng-options="option.value as option.label for option in ctrl.categories" class="form-control" ng-model="ctrl.category" name="category">
      </select>
    </div>
    <button type="button" ng-click="ctrl.clearFilter()" class="btn btn-primary btn-sm">Clear Filters</button>
    </div>
  </form>
</div>
<h1>Listings</h1>

 <div ng-repeat="listing in ctrl.listings | filter: ctrl.search
                                          | filter: ctrl.country
                                          | filter: ctrl.city
                                          | filter: ctrl.category">
	<div class="items repeats-front">
    <table>
    <tr><th width="20%">Name:</th><td><b>{{listing.name}}</b></td></tr>
    <tr><th>Website:</th><td>{{listing.url}}</td></tr>
    <tr><th>Category:</th><td>{{listing.category}}</td></tr>
    <tr><th style="vertical-align:top">Description:</th><td>{{listing.description}}</td></tr>
    <tr><td colspan="0"><button type="button" ng-click="ctrl.goToDetail(listing.id)" class="btn btn-primary btn-sm">See Details</button></td></tr>
    </table>
<!--     <hr> -->
	</div>
</div>
</div>
</div>